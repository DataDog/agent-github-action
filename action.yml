name: 'CI Datadog Agent'
description: 'Starts a Datadog agent for a job and gracefully shut it down before the job finishes'
inputs:
  containerName:
    description: 'The datadog-agent docker container name'
    required: true
    default: 'datadog-agent'
  imageName:
    description: 'The docker registry image to use'
    required: true
    default: 'gcr.io/datadoghq/agent'
  apiKey:
    description: 'The Datadog API key'
    required: true
  site:
    description: 'The Datadog site'
    required: true
    default: "datadoghq.com"
runs:
  using: 'node12'
  main: 'dist/main/index.js'
  post: 'dist/post/index.js'
